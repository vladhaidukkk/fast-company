(this["webpackJsonpfast-company"]=this["webpackJsonpfast-company"]||[]).push([[0],{252:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(26),s=n.n(a),c=n(13),i=n(4),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,253)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))},u=(n(114),n(115),n(52)),l=(n(116),n(11)),d=n(8),b=n(6),f=n(5),j=n(3),m=n.n(j),p=n(17),h=n(41),O=n.n(h),v=n(7),g="jwt-token",x="jwt-refresh-token",k="local_user_id",y="jwt-expires",w=function(e){var t=e.idToken,n=e.refreshToken,r=e.localId,a=e.expiresIn,s=void 0===a?3600:a,c=Date.now()+1e3*s;localStorage.setItem(g,t),localStorage.setItem(x,n),localStorage.setItem(k,r),localStorage.setItem(y,c.toString())},N={setTokens:w,getAccessToken:function(){return localStorage.getItem(g)},getRefreshToken:function(){return localStorage.getItem(x)},getUserId:function(){return localStorage.getItem(k)},getTokenExpiresDate:function(){return localStorage.getItem(y)},removeTokens:function(){localStorage.removeItem(g),localStorage.removeItem(x),localStorage.removeItem(k),localStorage.removeItem(y)}},S=O.a.create({baseURL:v.isFirebase?"https://identitytoolkit.googleapis.com/v1/":"".concat(v.apiEndpoint,"auth/"),params:{key:v.isFirebase?Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_KEY:void 0}}),_={register:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r,a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.isFirebase?"accounts:signUp":"signUp",r=v.isFirebase?{email:t.email,password:t.password,returnSecureToken:!0}:t,e.next=4,S.post(n,r);case 4:return a=e.sent,s=a.data,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r,a,s,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,a=v.isFirebase?"accounts:signInWithPassword":"signInWithPassword",s=v.isFirebase?{email:n,password:r,returnSecureToken:!0}:{email:n,password:r},e.next=5,S.post(a,s);case 5:return c=e.sent,i=c.data,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),exchangeToken:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r,a,s,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.refreshToken,!v.isFirebase){e.next=8;break}return r=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_KEY,e.next=5,O.a.post("https://securetoken.googleapis.com/v1/token?key=".concat(r),{grant_type:"refresh_token",refresh_token:n});case 5:return a=e.sent,s=a.data,e.abrupt("return",s);case 8:return e.next=10,S.post("token",{refresh_token:n});case 10:return c=e.sent,i=c.data,e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=_,F=O.a.create({baseURL:v.isFirebase?v.firebaseApiEndpoint:v.apiEndpoint});F.interceptors.request.use(function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r,a,s,c,i,o,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=N.getRefreshToken(),r=N.getTokenExpiresDate(),a=n&&r<Date.now(),v.isFirebase?(s=/\/$/gi.test(t.url),t.url="".concat(s?t.url.slice(0,-1):t.url,".json"),a&&(c=I.exchangeToken({refreshToken:n}),N.setTokens({idToken:c.id_token,refreshToken:c.refresh_token,localId:c.user_id,expiresIn:c.expires_in})),(i=N.getAccessToken())&&(t.params=Object(f.a)(Object(f.a)({},t.params),{},{auth:i}))):(a&&(o=I.exchangeToken({refreshToken:n}),N.setTokens({idToken:o.accessToken,refreshToken:o.refreshToken,localId:o.userId,expiresIn:o.expiresIn})),(u=N.getAccessToken())&&(t.headers=Object(f.a)(Object(f.a)({},t.headers),{},{Authorization:"Bearer ".concat(u)}))),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),F.interceptors.response.use((function(e){return v.isFirebase&&(e.data={content:e.data&&!e.data._id?Object.values(e.data):e.data}),e}),(function(e){return e.response&&e.response.status>=400&&e.response.status<500||Object(u.b)("Something went wrong. Try later"),Promise.reject(e)}));var q={get:F.get,post:F.post,put:F.put,delete:F.delete,patch:F.patch},C="user/",T={get:function(){var e=Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get(C);case 2:return t=e.sent,n=t.data,e.abrupt("return",v.isFirebase?n:{content:n});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.put(C+t._id,t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCurrentUser:function(){var e=Object(b.a)(m.a.mark((function e(){var t,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N.getUserId(),e.next=3,q.get(C+t);case 3:return n=e.sent,r=n.data,e.abrupt("return",v.isFirebase?r:{content:r});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),patch:function(){var e=Object(b.a)(m.a.mark((function e(t,n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.patch(C+t,n);case 2:return r=e.sent,a=r.data,e.abrupt("return",v.isFirebase?a:{content:a});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},L=T,E=n(106),P=Object(E.a)(),A=function(e){switch(e){case"EMAIL_EXISTS":return"This email has already been registered";case"EMAIL_NOT_FOUND":return"Account with this email is not registered";case"INVALID_PASSWORD":return"Password is not correct";default:return"Too many authentication requests"}},D=N.getAccessToken()?{entities:null,isLoading:!0,error:null,auth:{userId:N.getUserId()},isLoggedIn:!0,dataLoaded:!1}:{entities:null,isLoading:!1,error:null,auth:null,isLoggedIn:!1,dataLoaded:!1},R=Object(p.c)({name:"users",initialState:D,reducers:{received:function(e,t){e.entities=t.payload,e.isLoading=!1,e.dataLoaded=!0},requested:function(e){e.isLoading=!1},requestFailed:function(e,t){e.error=t.payload,e.isLoading=!1},authenticated:function(e,t){e.auth=t.payload,e.isLoggedIn=!0},authFailed:function(e,t){e.error=t.payload},userCreated:function(e,t){e.entities||(e.entities=[]),e.entities.push(t.payload)},loggedOut:function(e){e.entities=null,e.isLoading=!1,e.auth=null,e.isLoggedIn=!1,e.dataLoaded=!1},userUpdated:function(e,t){var n=e.entities.findIndex((function(e){return e._id===t.payload._id}));e.entities[n]=Object(f.a)(Object(f.a)({},e.entities[n]),t.payload)},authRequested:function(e){e.error=null}}}),M=R.actions,B=M.received,U=M.requested,J=M.requestFailed,V=M.authenticated,H=M.authFailed,K=M.userCreated,W=M.loggedOut,Y=M.userUpdated,z=M.authRequested,$=Object(p.b)("users/createUserRequested"),Q=Object(p.b)("users/createUserFailed"),Z=Object(p.b)("users/updateUserFailed"),X=Object(p.b)("users/updateUserRequested"),G=function(){return function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(U()),e.prev=1,e.next=4,L.get();case 4:n=e.sent,r=n.content,t(B(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(J({message:e.t0.response}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},ee=function(e){return function(){var t=Object(b.a)(m.a.mark((function t(n){var r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n($()),t.prev=1,t.next=4,L.create(e);case 4:r=t.sent,a=r.content,n(K(a)),P.push("/users"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(Q());case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},te=function(e){return function(){var t=Object(b.a)(m.a.mark((function t(n,r){var a,s,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(X()),t.prev=1,a=r().users.auth.userId,t.next=5,L.patch(a,Object(f.a)({_id:v.isFirebase?a:void 0},e));case 5:s=t.sent,c=s.content,n(Y(c)),P.push("/users/".concat(a)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n(Z());case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,n){return t.apply(this,arguments)}}()},ne=function(e){return function(t){var n=t.users;return n.entities?n.entities.find((function(t){return t._id===e})):null}},re=R.reducer,ae=n(0),se=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){var t=e.users;return t.entities?t.entities.find((function(e){return e._id===t.auth.userId})):null})),n=Object(r.useState)(!1),a=Object(d.a)(n,2),s=a[0],c=a[1];return t?Object(ae.jsxs)("div",{className:"dropdown",onClick:function(){return c((function(e){return!e}))},children:[Object(ae.jsxs)("div",{className:"btn dropdown-toggle d-flex align-items-center",children:[Object(ae.jsx)("img",{src:t.image,alt:"avatar",height:"40",className:"rounded-circle me-2 img-responsive"}),Object(ae.jsx)("span",{children:t.name})]}),Object(ae.jsxs)("div",{className:"dropdown-menu ".concat(s?"show":""),children:[Object(ae.jsx)(l.a,{to:"/users/".concat(t._id),className:"dropdown-item",children:"Profile"}),Object(ae.jsx)("button",{type:"button",className:"dropdown-item",onClick:function(){e((function(e){N.removeTokens(),e(W()),P.push("/")}))},children:"Log out"})]})]}):"loading..."},ce=function(){var e=Object(i.c)((function(e){return e.users.isLoggedIn}));return Object(ae.jsx)("div",{className:"navbar bg-light mb-3",children:Object(ae.jsxs)("div",{className:"container-fluid",children:[Object(ae.jsxs)("ul",{className:"nav",children:[Object(ae.jsx)("li",{className:"nav-item",children:Object(ae.jsx)(l.b,{to:"/",className:"nav-link",children:"Main"})}),e&&Object(ae.jsx)("li",{className:"nav-item",children:Object(ae.jsx)(l.b,{to:"/users",className:"nav-link",children:"Users"})})]}),Object(ae.jsx)("div",{className:"d-flex",children:e?Object(ae.jsx)(se,{}):Object(ae.jsx)(l.b,{to:"/auth/login",className:"nav-link",children:"Login"})})]})})},ie=n(20),oe=n(64),ue=n(65),le=n(66),de=function(){var e="Not Started",t="In Process",n="Ready",a="Error occurred",s=Object(r.useState)(null),c=Object(d.a)(s,2),i=c[0],o=c[1],u=Object(r.useState)(e),l=Object(d.a)(u,2),f=l[0],j=l[1],p=Object(r.useState)(0),h=Object(d.a)(p,2),O=h[0],v=h[1],g=Object(r.useState)(0),x=Object(d.a)(g,2),k=x[0],y=x[1],w=oe.length+ue.length+le.length,N=function(){v((function(e){return e+1}))};Object(r.useEffect)((function(){f===e&&0!==O&&j(t),function(){var e=Math.floor(O/w*100);100===e&&j(n),y((function(){return e}))}()}),[O]);var S=function(){var e=Object(b.a)(m.a.mark((function e(){var t,n,r,s,c,i,u,l,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=Object(ie.a)(oe),e.prev=2,t.s();case 4:if((n=t.n()).done){e.next=11;break}return r=n.value,e.next=8,q.put("profession/".concat(r._id),r);case 8:N();case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:s=Object(ie.a)(ue),e.prev=20,s.s();case 22:if((c=s.n()).done){e.next=29;break}return i=c.value,e.next=26,q.put("quality/".concat(i._id),i);case 26:N();case 27:e.next=22;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(20),s.e(e.t1);case 34:return e.prev=34,s.f(),e.finish(34);case 37:u=Object(ie.a)(le),e.prev=38,u.s();case 40:if((l=u.n()).done){e.next=47;break}return d=l.value,e.next=44,q.put("user/".concat(d._id),d);case 44:N();case 45:e.next=40;break;case 47:e.next=52;break;case 49:e.prev=49,e.t2=e.catch(38),u.e(e.t2);case 52:return e.prev=52,u.f(),e.finish(52);case 55:e.next=61;break;case 57:e.prev=57,e.t3=e.catch(0),o(e.t3),j(a);case 61:case"end":return e.stop()}}),e,null,[[0,57],[2,13,16,19],[20,31,34,37],[38,49,52,55]])})));return function(){return e.apply(this,arguments)}}();return{error:i,initialize:S,status:f,progress:k}},be=function(){var e=de(),t=e.initialize,n=e.status,r=e.error,a=e.progress;return Object(ae.jsxs)("div",{className:"container mt-5",children:[Object(ae.jsx)("h1",{children:"Main Page"}),Object(ae.jsxs)("ul",{children:[Object(ae.jsxs)("li",{children:["Status:\xa0",n]}),Object(ae.jsxs)("li",{children:["Progress:\xa0",a,"%"]}),r&&Object(ae.jsxs)("li",{children:["Error:\xa0",r]})]}),Object(ae.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){t()},children:"initialize data"})]})},fe=n(12),je=n(33),me=function(e){var t=e.label,n=e.type,a=e.name,s=e.value,c=e.onChange,i=e.error,o="password"===n,u=Object(r.useState)(!1),l=Object(d.a)(u,2),b=l[0],f=l[1];return Object(ae.jsxs)("div",{className:"col mb-4",children:[Object(ae.jsx)("label",{htmlFor:a,className:"form-label",children:t}),Object(ae.jsxs)("div",{className:"input-group has-validation",children:[Object(ae.jsx)("input",{id:a,type:b?"text":n,value:s,name:a,onChange:function(e){var t=e.target;return c({name:a,value:t.value})},className:"form-control ".concat(i?"is-invalid":"")}),o&&Object(ae.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){f(!b)},children:b?Object(ae.jsx)("i",{className:"bi bi-eye-slash"}):Object(ae.jsx)("i",{className:"bi bi-eye"})}),i&&Object(ae.jsx)("div",{className:"invalid-feedback",children:i})]})]})};me.defaultProps={type:"text",error:""};var pe=me,he=function(e){var t=e.name,n=e.value,r=e.onChange,a=e.children,s=e.error;return Object(ae.jsxs)("div",{className:"form-check mb-4",children:[Object(ae.jsx)("input",{className:"form-check-input ".concat(s?"is-invalid":""),type:"checkbox",checked:n,id:t,name:t,onChange:function(){return r({name:t,value:!n})}}),Object(ae.jsx)("label",{className:"form-check-label",htmlFor:t,children:a}),s&&Object(ae.jsx)("div",{className:"invalid-feedback",children:s})]})};he.defaultProps={error:""};var Oe=he,ve=function(){var e=Object(c.g)(),t=Object(i.b)(),n=Object(r.useState)({email:"",password:"",remember:!1}),a=Object(d.a)(n,2),s=a[0],o=a[1],u=Object(r.useState)({}),j=Object(d.a)(u,2),p=j[0],h=j[1],O=Object(i.c)((function(e){return e.users.error})),g=je.a().shape({password:je.b().required("Password must be specified").matches(/(?=.*[A-Z])/,"Password should have at least 1 capital letter").matches(/(?=.*[0-9])/,"Password should have at least 1 digit").matches(/^\S+$/,"Password shouldn't have any spaces").matches(/(?=.{8,16})/,"Password length should be more than 8"),email:je.b().required("Email must be specified").email("Email input is invalid")}),x=function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.validate(s);case 3:return h({}),e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),h(Object(fe.a)({},e.t0.path,e.t0.message)),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){x()}),[s]);var k=function(e){o((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(fe.a)({},e.name,e.value))}))};return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("h3",{className:"mb-4",children:"Login"}),Object(ae.jsxs)("form",{onSubmit:function(n){n.preventDefault(),x().then((function(n){var r;if(n){var a=null!==(r=e.location.state)&&void 0!==r&&r.from.pathname?e.location.state.from.pathname:"/";t(function(e,t){return function(){var n=Object(b.a)(m.a.mark((function n(r){var a,s,c,i;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(z()),n.prev=1,n.next=4,I.login(e);case 4:a=n.sent,v.isFirebase?w(a):w({idToken:a.accessToken,localId:a.userId,refreshToken:a.refreshToken,expiresIn:a.expiresIn}),r(V({userId:v.isFirebase?a.localId:a.userId})),P.push(t),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),s=n.t0.response.data.error,c=s.message,400===s.code?(i=A(c),r(H({message:i}))):r(H({message:n.t0.message}));case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()}(s,a))}}))},children:[Object(ae.jsx)(pe,{label:"Email",name:"email",value:s.email,onChange:k,error:p.email}),Object(ae.jsx)(pe,{label:"Password",type:"password",name:"password",value:s.password,onChange:k,error:p.password}),Object(ae.jsx)(Oe,{onChange:k,name:"remember",value:s.remember,children:"Remember account"}),O&&Object(ae.jsx)("p",{className:"text-danger",children:O.message}),Object(ae.jsx)("button",{className:"btn btn-primary w-100 mb-3",type:"submit",disabled:0!==Object.keys(p).length,children:"Sign in"}),Object(ae.jsxs)("div",{children:["I does not have an account. \xa0",Object(ae.jsx)(l.a,{to:"/auth/register",children:"Create account"})]})]})]})},ge=function(e,t){var n,r,a={};for(var s in e){for(var c in t[s]){var i=(n=t[s][c],r=e[s],n(r));if(i){a[s]=i;break}}if(1===Object.keys(a).length)break}return a},xe=function(e){var t=e.label,n=e.options,r=e.name,a=e.value,s=e.onChange,c=e.error,i=e.defaultOption;return Object(ae.jsxs)("div",{className:"col mb-4",children:[t&&Object(ae.jsx)("label",{htmlFor:r,className:"form-label",children:t}),Object(ae.jsxs)("select",{id:r,name:r,value:a,className:"form-select ".concat(c?"is-invalid":""),onChange:function(e){var t=e.target;return s({name:r,value:t.value})},children:[Object(ae.jsx)("option",{disabled:!0,value:"",children:0!==Object.keys(n).length?i:"Loading options..."}),Array.isArray(n)?Object.values(n).map((function(e){var t=Object.values(e);return{value:t[0],label:t[1]}})).map((function(e){return Object(ae.jsx)("option",{value:e.value,children:e.label},e.value)})):n]}),c&&Object(ae.jsx)("div",{className:"invalid-feedback",children:c})]})};xe.defaultProps={label:"",options:[],error:"",defaultOption:"Choose..."};var ke=xe,ye=n(23),we=n.n(ye),Ne=function(e){var t=e.label,n=e.name,r=e.value,a=e.onChange,s=e.options,c=function(e){var t=e.target;return a({name:n,value:t.value})};return Object(ae.jsxs)("div",{className:"col mb-4",children:[Object(ae.jsx)("label",{className:"form-label",children:t}),Object(ae.jsx)("div",{children:s.map((function(e){return Object(ae.jsxs)("div",{className:"form-check form-check-inline",children:[Object(ae.jsx)("input",{className:"form-check-input",type:"radio",name:n,id:e,value:e,onChange:c,checked:r===e}),Object(ae.jsx)("label",{className:"form-check-label",htmlFor:e,children:Object(ye.capitalize)(e)})]},e)}))})]})},Se=n(105),_e=function(e){var t=e.label,n=e.name,r=e.options,a=e.onChange,s=e.defaultValue,c=Array.isArray(r)?r:Object.values(r).map((function(e){var t=Object.values(e);return{value:t[0],label:t[1]}}));return Object(ae.jsxs)("div",{className:"col mb-4",children:[Object(ae.jsx)("label",{className:"form-label",children:t}),Object(ae.jsx)(Se.a,{closeMenuOnSelect:!1,isMulti:!0,name:n,defaultValue:s,options:c,className:"basic-multi-select",classNamePrefix:"select",onChange:function(e){a({name:n,value:e})}})]})};_e.defaultProps={options:[]};var Ie=_e,Fe={get:function(){var e=Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("quality/");case 2:return t=e.sent,n=t.data,e.abrupt("return",v.isFirebase?n:{content:n});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},qe=Fe,Ce=function(e,t){return Date.now()-e>t},Te=Object(p.c)({name:"qualities",initialState:{entities:null,isLoading:!0,error:null,lastFetch:null},reducers:{received:function(e,t){e.entities=t.payload,e.isLoading=!1},requested:function(e){e.isLoading=!0,e.lastFetch=Date.now()},requestFailed:function(e,t){e.error=t.payload,e.isLoading=!1,e.lastFetch=null}}}),Le=Te.actions,Ee=Le.received,Pe=Le.requested,Ae=Le.requestFailed,De=function(){return function(){var e=Object(b.a)(m.a.mark((function e(t,n){var r,a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().qualities.lastFetch,9e5,!Ce(r,9e5)){e.next=15;break}return t(Pe()),e.prev=4,e.next=7,qe.get();case 7:a=e.sent,s=a.content,t(Ee(s)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),t(Ae({message:e.t0.message}));case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}()},Re=Te.reducer,Me={get:function(){var e=Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("profession/");case 2:return t=e.sent,n=t.data,e.abrupt("return",v.isFirebase?n:{content:n});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},Be=Me,Ue=Object(p.c)({name:"professions",initialState:{entities:null,isLoading:!0,error:null,lastFetch:null},reducers:{received:function(e,t){e.entities=t.payload,e.isLoading=!1},requested:function(e){e.isLoading=!1,e.lastFetch=Date.now()},requestFailed:function(e,t){e.error=t.payload,e.isLoading=!1,e.lastFetch=null}}}),Je=Ue.actions,Ve=Je.received,He=Je.requested,Ke=Je.requestFailed,We=Ue.reducer,Ye=function(){var e=Object(i.b)(),t=Object(r.useState)({name:"",email:"",password:"",profession:"",sex:"male",qualities:[],acceptLicense:!1}),n=Object(d.a)(t,2),a=n[0],s=n[1],c=Object(i.c)((function(e){return e.professions.entities})),o=c?c.map((function(e){return{value:e._id,label:e.name}})):[],u=Object(i.c)((function(e){return e.qualities.entities})),j=u?u.map((function(e){return{value:e._id,label:e.name}})):[],p=Object(r.useState)({}),h=Object(d.a)(p,2),O=h[0],g=h[1],x=Object(i.c)((function(e){return e.users.error})),k={name:{isRequired:function(e){return""===e.trim()?"Name must be specified":void 0}},email:{isRequired:function(e){return""===e.trim()?"Email must be specified":void 0},isEmail:function(e){return/^\S+@\S+\.\S+$/.test(e)?void 0:"Email input is invalid"}},password:{isRequired:function(e){return""===e.trim()?"Password must be specified":void 0},hasCapital:function(e){return/[A-Z]/.test(e)?void 0:"Password should have at least 1 capital letter"},hasDigit:function(e){return/\d/.test(e)?void 0:"Password should have at least 1 digit"},noSpaces:function(e){return/\s/.test(e)?"Password shouldn't have any spaces":void 0},correctLength:function(e){return e.length<8||e.length>16?"Password length should be from 8 to 16 characters":void 0}},profession:{isRequired:function(e){return""===e.trim()?"Profession must be specified":void 0}},acceptLicense:{isRequired:function(e){return e?void 0:"You must to accept the license"}}},y=function(){var e=ge(a,k);return g(e),0===Object.keys(e).length};Object(r.useEffect)((function(){y()}),[a]);var N=function(e){s((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(fe.a)({},e.name,e.value))}))};return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("h3",{className:"mb-4",children:"Register"}),Object(ae.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),y()){var n,r=Object(f.a)(Object(f.a)({},a),{},{qualities:a.qualities.map((function(e){return e.value}))});e((n=r,function(){var e=Object(b.a)(m.a.mark((function e(t){var r,a,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(z()),e.prev=1,e.next=4,I.register(n);case 4:r=e.sent,v.isFirebase?w(r):w({idToken:r.accessToken,localId:r.userId,refreshToken:r.refreshToken,expiresIn:r.expiresIn}),t(V({userId:v.isFirebase?r.localId:r.userId})),v.isFirebase&&t(ee(Object(f.a)(Object(f.a)({},n),{},{_id:r.localId,completedMeetings:0,rate:0,avatarImg:"https://avatars.dicebear.com/api/avataaars/".concat((Math.random()+1).toString(36).substring(7),".svg")}))),P.push("/users"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),a=e.t0.response.data.error,s=a.message,400===a.code?(c=A(s),t(H({message:c}))):t(H({message:e.t0.message}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()))}},children:[Object(ae.jsx)(pe,{label:"Name",name:"name",value:a.name,onChange:N,error:O.name}),Object(ae.jsx)(pe,{label:"Email",name:"email",value:a.email,onChange:N,error:O.email}),Object(ae.jsx)(pe,{label:"Password",type:"password",name:"password",value:a.password,onChange:N,error:O.password}),Object(ae.jsx)(ke,{label:"Profession",options:o,name:"profession",value:a.profession,onChange:N,error:O.profession}),Object(ae.jsx)(Ne,{label:"Gender",onChange:N,name:"sex",options:["male","female","other"],value:a.sex}),Object(ae.jsx)(Ie,{label:"Qualities",name:"qualities",options:j,onChange:N,defaultValue:a.qualities}),Object(ae.jsxs)(Oe,{name:"acceptLicense",value:a.acceptLicense,onChange:N,error:O.acceptLicense,children:["Accept the \xa0",Object(ae.jsx)(l.a,{to:"/auth/register/license",children:"license"})]}),x&&Object(ae.jsx)("p",{className:"text-danger",children:x.message}),Object(ae.jsx)("button",{className:"btn btn-primary w-100 mb-3",type:"submit",disabled:0!==Object.keys(O).length,children:"Sign up"}),Object(ae.jsxs)("div",{children:["I have an account. \xa0",Object(ae.jsx)(l.a,{to:"/auth/login",children:"Sign in"})]})]})]})},ze=function(){return Object(ae.jsx)("div",{className:"container",children:Object(ae.jsx)("div",{className:"row mt-4",children:Object(ae.jsx)("div",{className:"col-md-6 offset-md-3 shadow p-4 rounded",children:Object(ae.jsxs)(c.d,{children:[Object(ae.jsx)(c.b,{path:"/auth/login",component:ve}),Object(ae.jsx)(c.b,{path:"/auth/register",component:Ye}),Object(ae.jsx)(c.a,{to:"/auth/login"})]})})})})},$e=function(e){var t=e.data,n=Object(i.c)((function(e){return e.users.auth.userId})),r=Object(c.g)().push;return Object(ae.jsx)("div",{className:"card mb-3",children:Object(ae.jsxs)("div",{className:"card-body",children:[n===t._id&&Object(ae.jsx)("button",{type:"button",className:"position-absolute top-0 end-0 btn btn-light btn-sm",onClick:function(){return r("/users/".concat(t._id,"/edit"))},children:Object(ae.jsx)("i",{className:"bi bi-gear"})}),Object(ae.jsxs)("div",{className:"d-flex flex-column align-items-center text-center position-relative",children:[Object(ae.jsx)("img",{src:t.image,className:"rounded-circle",width:"150",alt:"User avatar"}),Object(ae.jsxs)("div",{className:"mt-3",children:[Object(ae.jsx)("h4",{children:t.name}),Object(ae.jsx)("p",{className:"text-secondary mb-1",children:t.profession.name}),Object(ae.jsxs)("div",{className:"text-muted",children:[Object(ae.jsx)("i",{className:"bi bi-caret-down-fill text-primary",role:"button"}),Object(ae.jsx)("i",{className:"bi bi-caret-up text-secondary",role:"button"}),Object(ae.jsx)("span",{className:"ms-2",children:t.rate})]})]})]})]})})},Qe=function(e){var t,n=e.items,a=Object(i.b)(),s=Object(i.c)((t=n,function(e){var n=[];if(e.qualities.entities){var r,a=Object(ie.a)(t);try{for(a.s();!(r=a.n()).done;){var s,c=r.value,i=Object(ie.a)(e.qualities.entities);try{for(i.s();!(s=i.n()).done;){var o=s.value;if(o._id===c){n.push(o);break}}}catch(u){i.e(u)}finally{i.f()}}}catch(u){a.e(u)}finally{a.f()}}return n})),c=Object(i.c)((function(e){return e.qualities.isLoading}));return Object(r.useEffect)((function(){a(De())}),[]),c?"loading...":s.map((function(e){return Object(ae.jsx)("span",{className:"badge mx-1 bg-".concat(e.color),children:e.name},e._id)}))};Qe.defaultProps={items:[]};var Ze=Qe,Xe=function(e){var t=e.data;return Object(ae.jsx)("div",{className:"card mb-3",children:Object(ae.jsxs)("div",{className:"card-body d-flex flex-column justify-content-center text-center",children:[Object(ae.jsx)("h5",{className:"card-title",children:Object(ae.jsx)("span",{children:"Qualities"})}),Object(ae.jsx)("p",{className:"card-text",children:Object(ae.jsx)(Ze,{items:t})})]})})},Ge=function(e){switch(e){case 0:return"January";case 1:return"February";case 2:return"Match";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December";default:return""}},et=function(e){var t=new Date(e),n=(Date.now()-t.getMilliseconds())/1e3/60,r=n/60,a=t.getFullYear()-(new Date).getFullYear();return n<1?"1 minute ago":n<5?"5 minutes ago":n<10?"10 minutes ago":n<30?"30 minutes ago":r<24?"".concat(t.getHours(),":").concat(t.getMinutes()):a<1?"".concat(t.getDate()," ").concat(Ge(t.getMonth())):"".concat(t.getDate()," ").concat(Ge(t.getMonth())," ").concat(t.getFullYear()," Year")},tt=function(e){var t=e._id,n=e.userId,r=e.content,a=e.createdAt,s=e.onDelete,o=Object(c.h)().userId,u=Object(i.c)((function(e){return e.users.auth.userId})),l=Object(i.c)(ne(n));return Object(ae.jsx)("div",{className:"bg-light card-body  mb-3",children:l?Object(ae.jsx)("div",{className:"row",children:Object(ae.jsx)("div",{className:"col",children:Object(ae.jsxs)("div",{className:"d-flex flex-start ",children:[Object(ae.jsx)("img",{src:l.image,className:"rounded-circle shadow-1-strong me-3",alt:"avatar",width:"65",height:"65"}),Object(ae.jsx)("div",{className:"flex-grow-1 flex-shrink-1",children:Object(ae.jsxs)("div",{className:"mb-4",children:[Object(ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(ae.jsxs)("p",{className:"mb-1 ",children:[l.name,Object(ae.jsxs)("span",{className:"small",children:[" - ",et(a)]})]}),(u===n||u===o)&&Object(ae.jsx)("button",{type:"button",className:"btn btn-sm text-primary d-flex align-items-center",onClick:function(){s(t)},children:Object(ae.jsx)("i",{className:"bi bi-x-lg"})})]}),Object(ae.jsx)("p",{className:"small mb-0",children:r})]})})]})})}):Object(ae.jsx)("div",{children:"Loading..."})})},nt=function(e){var t=e.data,n=e.onDelete;return we.a.orderBy(t,"createdAt","desc").map((function(e){return Object(ae.jsx)(tt,Object(f.a)(Object(f.a)({},e),{},{onDelete:n}),e._id)}))};nt.defaultProps={data:[]};var rt=nt,at=function(e){var t=e.label,n=e.name,r=e.value,a=e.onChange,s=e.error;return Object(ae.jsxs)("div",{className:"col mb-4",children:[Object(ae.jsx)("label",{htmlFor:n,className:"form-label",children:t}),Object(ae.jsxs)("div",{className:"input-group has-validation",children:[Object(ae.jsx)("textarea",{id:n,value:r,name:n,onChange:function(e){var t=e.target;return a({name:n,value:t.value})},className:"form-control ".concat(s?"is-invalid":""),rows:"3"}),s&&Object(ae.jsx)("div",{className:"invalid-feedback",children:s})]})]})};at.defaultProps={error:""};var st=at,ct={content:""},it=function(e){var t=e.onSubmit,n=Object(r.useState)(ct),a=Object(d.a)(n,2),s=a[0],c=a[1],i=Object(r.useState)({}),o=Object(d.a)(i,2),u=o[0],l=o[1],j=je.a().shape({content:je.b().required("Message can't be empty")}),p=function(){var e=Object(b.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.validate(s);case 3:return l({}),e.abrupt("return",!0);case 7:return e.prev=7,e.t0=e.catch(0),l(Object(fe.a)({},e.t0.path,e.t0.message)),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(ae.jsx)("div",{className:"card mb-2",children:Object(ae.jsxs)("div",{className:"card-body ",children:[Object(ae.jsx)("h3",{className:"mb-4",children:"New comment"}),Object(ae.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p().then((function(e){e&&(t(s),c(ct),l({}))}))},children:[Object(ae.jsx)(st,{label:"Message",onChange:function(e){c((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(fe.a)({},e.name,e.value))}))},name:"content",value:s.content,error:u.content}),Object(ae.jsx)("div",{className:"d-flex justify-content-end",children:Object(ae.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Publish"})})]})]})})},ot=n(107),ut="comment/",lt={getById:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.isFirebase?{orderBy:'"pageId"',equalTo:'"'.concat(t,'"')}:{orderBy:"pageId",equalTo:t},e.next=3,q.get(ut,{params:n});case 3:return r=e.sent,a=r.data,e.abrupt("return",v.isFirebase?a:{content:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),create:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r,a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v.isFirebase){e.next=6;break}return e.next=3,q.put(ut+t._id,t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:return e.next=8,q.post(ut,t);case 8:return a=e.sent,s=a.data,e.abrupt("return",{content:s});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(b.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.delete(ut+t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},dt=lt,bt=Object(p.c)({name:"comments",initialState:{entities:null,isLoading:!0,error:null},reducers:{received:function(e,t){e.entities=t.payload,e.isLoading=!1},requested:function(e){e.isLoading=!1},requestFailed:function(e,t){e.error=t.payload,e.isLoading=!1},commentCreated:function(e,t){e.entities.push(t.payload)},commentDeleted:function(e,t){e.entities=e.entities.filter((function(e){return e._id!==t.payload.id}))}}}),ft=bt.actions,jt=ft.received,mt=ft.requested,pt=ft.requestFailed,ht=ft.commentCreated,Ot=ft.commentDeleted,vt=Object(p.b)("comments/createCommentFailed"),gt=Object(p.b)("comments/createCommentRequested"),xt=Object(p.b)("comments/deleteCommentFailed"),kt=Object(p.b)("comments/deleteCommentRequested"),yt=bt.reducer,wt=function(){var e=Object(c.h)().userId,t=Object(i.b)(),n=Object(i.c)((function(e){return e.comments.entities})),a=Object(i.c)((function(e){return e.comments.isLoading}));Object(r.useEffect)((function(){var n;t((n=e,function(){var e=Object(b.a)(m.a.mark((function e(t){var r,a,s,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(mt()),e.prev=1,e.next=4,dt.getById(n);case 4:r=e.sent,a=r.content,t(jt(a)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),s=e.t0.response,c=s.status,i=s.statusText,t(pt({message:i,status:c}));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[e]);return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)("div",{className:"card mb-2",children:[" ",Object(ae.jsx)("div",{className:"card-body ",children:Object(ae.jsx)(it,{onSubmit:function(n){var r;t((r=Object(f.a)(Object(f.a)({},n),{},{pageId:e}),function(){var e=Object(b.a)(m.a.mark((function e(t,n){var a,s,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(gt()),e.prev=1,a=n().users.auth.userId,e.next=5,dt.create(Object(f.a)(Object(f.a)({},r),{},{_id:v.isFirebase?Object(ot.a)():void 0,userId:a,createdAt:v.isFirebase?Date.now():void 0}));case 5:s=e.sent,c=s.content,t(ht(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(vt());case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()))}})})]}),Object(ae.jsx)("div",{className:"card mb-3",children:Object(ae.jsxs)("div",{className:"card-body ",children:[Object(ae.jsx)("h2",{children:"Comments"}),Object(ae.jsx)("hr",{}),a?"Loading comments...":Object(ae.jsx)(rt,{data:n,onDelete:function(e){t(function(e){return function(){var t=Object(b.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(kt()),t.prev=1,t.next=4,dt.delete(e);case 4:n(Ot({id:e})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n(xt());case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}(e))}})]})})]})},Nt=function(e){var t=e.amount;return Object(ae.jsx)("div",{className:"card mb-3",children:Object(ae.jsxs)("div",{className:"card-body d-flex flex-column justify-content-center text-center",children:[Object(ae.jsx)("h5",{className:"card-title",children:Object(ae.jsx)("span",{children:"Completed meetings"})}),Object(ae.jsx)("h1",{className:"display-1",children:t})]})})},St=function(){var e=Object(c.h)().userId,t=Object(c.g)().push,n=Object(i.c)(ne(e));return n?Object(ae.jsx)("div",{className:"container mt-4",children:Object(ae.jsxs)("div",{className:"row gutters-sm",children:[Object(ae.jsxs)("div",{className:"col-md-4 mb-3",children:[Object(ae.jsx)($e,{data:n}),Object(ae.jsx)(Xe,{data:n.qualities}),Object(ae.jsx)(Nt,{amount:n.completedMeetings})]}),Object(ae.jsx)("div",{className:"col-md-8",children:Object(ae.jsx)(wt,{})})]})}):Object(ae.jsxs)("div",{className:"m-2",children:[Object(ae.jsx)("h2",{children:Object(ae.jsx)("span",{className:"badge bg-danger",children:"User with this id does not exist"})}),Object(ae.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return t("/users")},children:"All users"})]})},_t=n(15),It=function(e){var t=e.items,n=e.onItemSelect,r=e.uniqueProp,a=e.contentProp,s=e.selectedItem;return Object(ae.jsx)("div",{className:"list-group",children:Object.values(t).map((function(e){return Object(ae.jsx)("button",{type:"button",className:"list-group-item list-group-item-action".concat(e._id===s?" active":""),onClick:function(){return n(e)},children:e[a]},e[r])}))})};It.defaultProps={uniqueProp:"_id",contentProp:"name",selectedItem:void 0};var Ft=It,qt=function(e){var t=e.usersAmount;return Object(ae.jsx)("h2",{children:0===t?Object(ae.jsx)("span",{className:"badge bg-danger",children:"\u041d\u0438\u043a\u0442\u043e \u0441 \u0442\u043e\u0431\u043e\u0439 \u043d\u0435 \u0442\u0443\u0441\u0430\u043d\u0435\u0442"}):1===t?Object(ae.jsx)("span",{className:"badge bg-primary",children:"".concat(t," \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0442\u0443\u0441\u0430\u043d\u0435\u0442 \u0441 \u0442\u043e\u0431\u043e\u0439 \u0441\u0435\u0433\u043e\u0434\u043d\u044f")}):t>1&&t<5?Object(ae.jsx)("span",{className:"badge bg-primary",children:"".concat(t," \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430 \u0442\u0443\u0441\u0430\u043d\u0443\u0442 \u0441 \u0442\u043e\u0431\u043e\u0439 \u0441\u0435\u0433\u043e\u0434\u043d\u044f")}):Object(ae.jsx)("span",{className:"badge bg-primary",children:"".concat(t," \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0442\u0443\u0441\u0430\u043d\u0435\u0442 \u0441 \u0442\u043e\u0431\u043e\u0439 \u0441\u0435\u0433\u043e\u0434\u043d\u044f")})})},Ct=function(e){var t=e.columns,n=e.onSort,r=e.sortedBy,a=function(e){return r.iter===t[e].path?"asc"===r.order?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("span",{children:t[e].name}),Object(ae.jsx)("i",{className:"bi bi-caret-down-fill"})]}):Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("span",{children:t[e].name}),Object(ae.jsx)("i",{className:"bi bi-caret-up-fill"})]}):t[e].name};return Object(ae.jsx)("thead",{children:Object(ae.jsx)("tr",{children:Object.keys(t).map((function(e){return Object(ae.jsx)("th",{scope:"col",onClick:t[e].path?function(){return a=t[e].path,void(r.iter===a?n(Object(f.a)(Object(f.a)({},r),{},{order:"asc"===r.order?"desc":"asc"})):n({iter:a,order:"asc"}));var a}:void 0,role:t[e].path&&"button",children:a(e)},e)}))})})},Tt=function(e){var t=e.data,n=e.columns,r=function(e){return Object(ae.jsx)(l.a,{to:"/users/".concat(e._id),children:e.name})},a=function(e,t){var r=n[t].component;return r?"function"===typeof r?r(e):r:we.a.get(e,n[t].path)};return Object(ae.jsx)("tbody",{children:t.map((function(e){return Object(ae.jsx)("tr",{children:Object.keys(n).map((function(t){return Object(ae.jsx)("td",{children:"name"===t?r(e):a(e,t)},t)}))},e._id)}))})},Lt=function(e){var t=e.data,n=e.columns,r=e.onSort,a=e.sortedBy,s=e.children;return Object(ae.jsx)("table",{className:"table",children:s||Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)(Ct,{columns:n,onSort:r,sortedBy:a}),Object(ae.jsx)(Tt,{data:t,columns:n})]})})};Lt.defaultProps={data:void 0,columns:void 0,onSort:void 0,sortedBy:void 0,children:void 0};var Et=Lt,Pt=function(e){var t=e.userId,n=e.selected,r=e.onBookmarkToggle;return Object(ae.jsx)("button",{type:"button",className:"btn",onClick:function(){return r(t)},children:n?Object(ae.jsx)("i",{className:"bi bi-bookmark-fill"}):Object(ae.jsx)("i",{className:"bi bi-bookmark"})})},At=function(e){var t=e.id,n=Object(i.c)((function(e){return e.professions.isLoading})),r=Object(i.c)(function(e){return function(t){var n=t.professions;return n.entities?n.entities.find((function(t){return t._id===e})):null}}(t));return!n&&r?Object(ae.jsx)("p",{children:r.name}):"loading...".concat(t)},Dt=function(e){var t=e.users,n=e.onSort,r=e.sortedBy,a=e.onBookmarkToggle,s={name:{path:"name",name:"\u0418\u043c\u044f"},qualities:{name:"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u0430",component:function(e){return Object(ae.jsx)(Ze,{items:e.qualities})}},profession:{name:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f",component:function(e){return Object(ae.jsx)(At,{id:e.profession})}},completedMeetings:{path:"completedMeetings",name:"\u0412\u0441\u0442\u0440\u0435\u0442\u0438\u043b\u0441\u044f, \u0440\u0430\u0437"},rate:{path:"rate",name:"\u041e\u0446\u0435\u043d\u043a\u0430"},bookmark:{path:"bookmark",name:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",component:function(e){return Object(ae.jsx)(Pt,{userId:e._id,selected:!1,onBookmarkToggle:a})}}};return Object(ae.jsxs)(Et,{children:[Object(ae.jsx)(Ct,{columns:s,onSort:n,sortedBy:r}),Object(ae.jsx)(Tt,{data:t,columns:s})]})},Rt=function(e){var t=e.itemsAmount,n=e.itemsOnPage,r=e.currentIndex,a=e.onPaginate,s=Math.ceil(t/n),c=we.a.range(1,s+1);return 1===s?null:Object(ae.jsx)("nav",{children:Object(ae.jsx)("ul",{className:"pagination",children:c.map((function(e){return Object(ae.jsx)("li",{className:"page-item".concat(r===e?" active":""),children:Object(ae.jsx)("button",{type:"button",className:"page-link",onClick:function(){return a(e)},children:e})},"page_".concat(e))}))})})},Mt=function(e){var t=e.placeholder,n=e.value,r=e.onChange;return Object(ae.jsx)("input",{className:"form-control",type:"text",value:n,onChange:r,placeholder:t})};Mt.defaultProps={placeholder:""};var Bt=Mt,Ut=function(){var e,t=Object(i.c)((function(e){return e.users.auth.userId})),n=Object(i.c)((function(e){return e.users.entities})),a=Object(i.c)((function(e){return e.professions.entities})),s=Object(i.c)((function(e){return e.professions.isLoading})),c=Object(r.useState)(""),o=Object(d.a)(c,2),u=o[0],l=o[1],b=Object(r.useState)(),f=Object(d.a)(b,2),j=f[0],m=f[1],p=Object(r.useState)({iter:"name",order:"asc"}),h=Object(d.a)(p,2),O=h[0],v=h[1],g=Object(r.useState)(1),x=Object(d.a)(g,2),k=x[0],y=x[1];Object(r.useEffect)((function(){return y(1)}),[j]),e=(e=u?n.filter((function(e){return new RegExp(u,"i").test(e.name)})):j?n.filter((function(e){return e.profession===j})):n).filter((function(e){return e._id!==t}));var w=function(e,t,n){var r=t*(n-1);return Object(_t.a)(e).splice(r,t)}(we.a.orderBy(e,[O.iter],[O.order]),6,k),N=e.length;0===w.length&&N>0&&y(k-1);return Object(ae.jsxs)("div",{className:"d-flex",children:[!s&&Object(ae.jsxs)("div",{className:"w-25 p-2",children:[a&&Object(ae.jsx)(Ft,{items:a,onItemSelect:function(e){m(e._id),l("")},selectedItem:j}),Object(ae.jsx)("button",{type:"button",className:"btn btn-secondary mt-2",onClick:function(){return m()},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})]}),Object(ae.jsxs)("div",{className:"p-2 d-flex flex-column w-100",children:[Object(ae.jsx)(qt,{usersAmount:N}),Object(ae.jsx)(Bt,{placeholder:"Search user...",value:u,onChange:function(e){var t=e.target;l(t.value),m(null)}}),N>0&&Object(ae.jsx)(Dt,{users:w,onSort:function(e){return v(e)},sortedBy:O,onBookmarkToggle:function(e){console.log(e)}}),Object(ae.jsx)("div",{className:"d-flex justify-content-center",children:Object(ae.jsx)(Rt,{itemsAmount:N,itemsOnPage:6,currentIndex:k,onPaginate:function(e){return y(e)}})})]})]})},Jt=function(){var e=Object(c.g)(),t=Object(c.h)().userId,n=Object(i.c)((function(e){return e.professions.entities})),a=Object(i.c)((function(e){return e.qualities.entities})),s=Object(i.c)((function(e){return e.qualities.isLoading})),o=Object(i.c)((function(e){var t=e.users;return t.entities?t.entities.find((function(e){return e._id===t.auth.userId})):null})),u=Object(i.b)(),l=function(e){return{name:e.name,email:e.email,profession:e.profession,sex:e.sex,qualities:s?[]:e.qualities.map((function(e){return{label:a.find((function(t){return t._id===e})).name,value:e}}))}},j=Object(r.useState)(l(o)),p=Object(d.a)(j,2),h=p[0],O=p[1],v=Object(r.useState)({}),g=Object(d.a)(v,2),x=g[0],k=g[1];Object(r.useEffect)((function(){s||O((function(){return l(o)}))}),[s]);var y=function(e){return{name:e.name,email:e.email,profession:e.profession,sex:e.sex,qualities:e.qualities.map((function(e){return e.value}))}},w={name:{isRequired:function(e){return""===e.trim()?"Name must be specified":void 0}},email:{isRequired:function(e){return""===e.trim()?"Email must be specified":void 0},isEmail:function(e){return/^\S+@\S+\.\S+$/.test(e)?void 0:"Email input is invalid"}},profession:{isRequired:function(e){return""===e.trim()?"Profession must be specified":void 0}}},N=function(){var e=ge(h,w);return k(e),0===Object.keys(e).length};Object(r.useEffect)((function(){N()}),[h]);var S=function(e){O((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(fe.a)({},e.name,e.value))}))},_=function(){var e=Object(b.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),N()){e.next=4;break}return e.abrupt("return");case 4:n=y(h),u(te(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){return e.goBack()};o._id!==t&&e.push("/users/".concat(t));return Object(ae.jsx)("div",{className:"container",children:Object(ae.jsx)("div",{className:"row mt-4",children:Object(ae.jsx)("div",{className:"col-md-6 offset-md-3 shadow p-4 rounded",children:h?Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("h3",{className:"mb-4",children:"Register"}),Object(ae.jsxs)("form",{onSubmit:_,children:[Object(ae.jsx)(pe,{label:"Name",name:"name",value:h.name,onChange:S,error:x.name}),Object(ae.jsx)(pe,{label:"Email",name:"email",value:h.email,onChange:S,error:x.email}),Object(ae.jsx)(ke,{label:"Profession",options:n,name:"profession",value:h.profession,onChange:S,error:x.profession}),Object(ae.jsx)(Ne,{label:"Sex",onChange:S,name:"sex",options:["male","female","other"],value:h.sex}),Object(ae.jsx)(Ie,{label:"Qualities",name:"qualities",options:a.map((function(e){return{label:e.name,value:e._id}})),onChange:S,defaultValue:h.qualities}),Object(ae.jsx)("button",{className:"btn btn-primary w-100 mb-3",type:"submit",disabled:0!==Object.keys(x).length,children:"Confirm"}),Object(ae.jsx)("button",{className:"btn btn-secondary w-100",type:"button",onClick:I,children:"Cancel"})]})]}):Object(ae.jsx)("h2",{children:Object(ae.jsx)("span",{className:"badge bg-primary m-2",children:"Loading..."})})})})})},Vt=Jt,Ht=function(e){var t=e.children,n=Object(i.b)(),a=Object(i.c)((function(e){return e.users.dataLoaded}));return Object(r.useEffect)((function(){a||n(G())}),[]),a?t:Object(ae.jsx)("h1",{children:"Loading users..."})},Kt=function(){var e=Object(c.h)(),t=e.userId,n=e.status;return Object(ae.jsx)(Ht,{children:t?"edit"===n?Object(ae.jsx)(Vt,{id:t}):Object(ae.jsx)(St,{id:t}):Object(ae.jsx)(Ut,{})})},Wt=function(){return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsx)("h1",{children:"Error 404"}),Object(ae.jsx)("h3",{children:"Page was not founded"})]})},Yt=n(22),zt=["component","children"],$t=function(e){var t=e.component,n=e.children,r=Object(Yt.a)(e,zt),a=Object(i.c)((function(e){return e.users.isLoggedIn}));return Object(ae.jsx)(c.b,Object(f.a)(Object(f.a)({},r),{},{render:function(e){return a?t?Object(ae.jsx)(t,Object(f.a)({},e)):n:Object(ae.jsx)(c.a,{to:{pathname:"/auth/login",state:{from:e.location}}})}}))};$t.defaultProps={location:void 0,component:null,children:null};var Qt=$t,Zt=function(e){var t=e.children,n=Object(i.b)(),a=Object(i.c)((function(e){return e.users.isLoggedIn})),s=Object(i.c)((function(e){return e.users.isLoading}));return Object(r.useEffect)((function(){n(De()),n(function(){var e=Object(b.a)(m.a.mark((function e(t,n){var r,a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().professions.lastFetch,!Ce(r,9e5)){e.next=15;break}return t(He()),e.prev=4,e.next=7,Be.get();case 7:a=e.sent,s=a.content,t(Ve(s)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),t(Ke({message:e.t0.message}));case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}()),a&&n(G())}),[a]),s?Object(ae.jsx)("h1",{children:"Loading"}):t},Xt=function(){return Object(ae.jsxs)(ae.Fragment,{children:[Object(ae.jsxs)(Zt,{children:[Object(ae.jsx)(ce,{}),Object(ae.jsxs)(c.d,{children:[Object(ae.jsx)(c.b,{path:"/",exact:!0,component:be}),Object(ae.jsx)(c.b,{path:"/auth",component:ze}),Object(ae.jsx)(Qt,{path:"/users/:userId?/:status?",component:Kt}),Object(ae.jsx)(c.b,{path:"/404",component:Wt}),Object(ae.jsx)(c.a,{to:"/",path:"/main"}),Object(ae.jsx)(c.a,{to:"/auth/login",path:"/login"}),Object(ae.jsx)(c.a,{to:"/auth/register",path:"/register"}),Object(ae.jsx)(c.a,{to:"/404"})]})]}),Object(ae.jsx)(u.a,{})]})},Gt=n(24),en=Object(p.a)({reducer:Object(Gt.b)({qualities:Re,professions:We,users:re,comments:yt})});s.a.render(Object(ae.jsx)(r.StrictMode,{children:Object(ae.jsx)(c.c,{history:P,children:Object(ae.jsx)(i.a,{store:en,children:Object(ae.jsx)(Xt,{})})})}),document.getElementById("root")),o()},64:function(e){e.exports=JSON.parse('[{"_id":"67rdca3eeb7f6fgeed471818","name":"\u0414\u043e\u043a\u0442\u043e\u0440"},{"_id":"67rdca3eeb7f6fgeed471820","name":"\u041e\u0444\u0438\u0446\u0438\u0430\u043d\u0442"},{"_id":"67rdca3eeb7f6fgeed471814","name":"\u0424\u0438\u0437\u0438\u043a"},{"_id":"67rdca3eeb7f6fgeed471822","name":"\u0418\u043d\u0436\u0435\u043d\u0435\u0440"},{"_id":"67rdca3eeb7f6fgeed471824","name":"\u0410\u043a\u0442\u0435\u0440"},{"_id":"67rdca3eeb7f6fgeed471829","name":"\u041f\u043e\u0432\u0430\u0440"}]')},65:function(e){e.exports=JSON.parse('[{"_id":"67rdca3eeb7f6fgeed471198","name":"\u041d\u0443\u0434\u0438\u043b\u0430","color":"primary"},{"_id":"67rdca3eeb7f6fgeed471100","name":"\u0421\u0442\u0440\u0430\u043d\u043d\u044b\u0439","color":"secondary"},{"_id":"67rdca3eeb7f6fgeed4711012","name":"\u0422\u0440\u043e\u043b\u044c","color":"success"},{"_id":"67rdca3eeb7f6fgeed471101","name":"\u0410\u043b\u043a\u043e\u0433\u043e\u043b\u0438\u043a","color":"danger"},{"_id":"67rdca3eeb7f6fgeed471102","name":"\u041a\u0440\u0430\u0441\u0430\u0432\u0447\u0438\u043a","color":"info"},{"_id":"67rdca3eeb7f6fgeed471103","name":"\u041d\u0435\u0443\u0432\u0435\u0440\u0435\u043d\u043d\u044b\u0439","color":"dark"}]')},66:function(e){e.exports=JSON.parse('[{"_id":"67rdca3eeb7f6fgeed471815","name":"\u0414\u0436\u043e\u043d \u0414\u043e\u0440\u0438\u0430\u043d","email":"Jony7351@tw.com","password":"b2C!9bmE","profession":"67rdca3eeb7f6fgeed471818","qualities":["67rdca3eeb7f6fgeed471198","67rdca3eeb7f6fgeed471102","67rdca3eeb7f6fgeed471100"],"completedMeetings":36,"rate":2.5},{"_id":"67rdca3eeb7f6fgeed471816","name":"\u041a\u043e\u043a\u0441","email":"white4571@twipet.com","password":"NSF-kQ7p","profession":"67rdca3eeb7f6fgeed471818","qualities":["67rdca3eeb7f6fgeed4711012","67rdca3eeb7f6fgeed471102","67rdca3eeb7f6fgeed471101"],"completedMeetings":15,"rate":2.5},{"_id":"67rdca3eeb7f6fgeed471817","name":"\u0411\u043e\u0431 \u041a\u0435\u043b\u0441\u043e","email":"bob007@tw.com","password":"*cr6Lydn","profession":"67rdca3eeb7f6fgeed471818","qualities":["67rdca3eeb7f6fgeed4711012"],"completedMeetings":247,"rate":3.5,"bookmark":false},{"_id":"67rdca3eeb7f6fgeed471818","name":"\u0420\u044d\u0439\u0447\u0435\u043b \u0413\u0440\u0438\u043d","email":"green7311@fam.biz","password":"*V7&Ks6D","profession":"67rdca3eeb7f6fgeed471820","qualities":["67rdca3eeb7f6fgeed471102"],"completedMeetings":148,"rate":3.5,"bookmark":false},{"_id":"67rdca3eeb7f6fgeed471819","name":"\u0428\u0435\u043b\u0434\u043e\u043d \u041a\u0443\u043f\u0435\u0440","email":"mindgames6878@phis.tech","password":"$8^M_LfY","profession":"67rdca3eeb7f6fgeed471814","qualities":["67rdca3eeb7f6fgeed471100","67rdca3eeb7f6fgeed471198"],"completedMeetings":37,"rate":4.6},{"_id":"67rdca3eeb7f6fgeed471820","name":"\u041b\u0435\u043e\u043d\u0430\u0440\u0434 \u0425\u043e\u0444\u0441\u0442\u0435\u0434\u0442\u0435\u0440","email":"mindes000@phis.tech","password":"75gHX^Tj","profession":"67rdca3eeb7f6fgeed471814","qualities":["67rdca3eeb7f6fgeed471100","67rdca3eeb7f6fgeed471102"],"completedMeetings":147,"rate":3.5,"bookmark":false},{"_id":"67rdca3eeb7f6fgeed471821","name":"\u0413\u043e\u0432\u0430\u0440\u0434 \u0412\u043e\u043b\u043e\u0432\u0438\u0446","email":"gov1903@phis.tech","password":"k2+HWHq^","profession":"67rdca3eeb7f6fgeed471822","qualities":["67rdca3eeb7f6fgeed471100","67rdca3eeb7f6fgeed471198"],"completedMeetings":72,"rate":3.5,"bookmark":false},{"_id":"67rdca3eeb7f6fgeed471822","name":"\u041d\u0438\u043a\u043e\u043b\u0430 \u0422\u0435\u0441\u043b\u0430","email":"electro@underground.tech","password":"K2vVmM^Z","profession":"67rdca3eeb7f6fgeed471822","qualities":["67rdca3eeb7f6fgeed471102"],"completedMeetings":72,"rate":5},{"_id":"67rdca3eeb7f6fgeed471823","name":"\u041c\u043e\u043d\u0438\u043a\u0430 \u0413\u0435\u043b\u043b\u0435\u0440","email":"mono@super.com","password":"Zu+9*V$E","profession":"67rdca3eeb7f6fgeed471829","qualities":["67rdca3eeb7f6fgeed471100","67rdca3eeb7f6fgeed471102"],"completedMeetings":17,"rate":4.5},{"_id":"67rdca3eeb7f6fgeed471824","name":"\u0420\u0430\u0442\u0430\u0442\u0443\u0439","email":"ratatatata@underground.com","password":"RvJ-U2EC","profession":"67rdca3eeb7f6fgeed471829","qualities":["67rdca3eeb7f6fgeed471102","67rdca3eeb7f6fgeed4711012"],"completedMeetings":17,"rate":4.5},{"_id":"67rdca3eeb7f6fgeed47181f","name":"\u0414\u0436\u043e\u0443\u0438 \u0422\u0440\u0438\u0431\u0431\u0438\u0430\u043d\u0438","email":"joe@trib.com","password":"z&_r7VA8","profession":"67rdca3eeb7f6fgeed471824","qualities":["67rdca3eeb7f6fgeed471102","67rdca3eeb7f6fgeed471100"],"completedMeetings":434,"rate":3.5},{"_id":"67rdca3eeb7f6fgeed47181r","name":"\u0411\u0440\u044d\u0434 \u041f\u0438\u0442\u0442","email":"superstar@star.com","password":"89UhL^$d","profession":"67rdca3eeb7f6fgeed471824","qualities":["67rdca3eeb7f6fgeed471102"],"completedMeetings":434,"rate":5}]')},7:function(e){e.exports=JSON.parse('{"apiEndpoint":"http://localhost:8080/api/","firebaseApiEndpoint":"https://fast-company-jfd-default-rtdb.europe-west1.firebasedatabase.app/","isFirebase":false}')}},[[252,1,2]]]);
//# sourceMappingURL=main.e109caf1.chunk.js.map